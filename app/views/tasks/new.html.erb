<h1>New Reading Note</h1>
<h2>for "<%= @book.title %>"</h2>

<div class="form-container">
  <%= form_with model: [@book, @task] do |form| %>
    <div class="form-group">
      <%= form.label :reading_status %>
      <%= form.select :reading_status, 
          options_for_select(Task::READING_STATUSES.map { |status| [status.humanize, status] }, @task.reading_status), 
          { prompt: "Select status" }, 
          { class: "form-control" } %>
      <% @task.errors.full_messages_for(:reading_status).each do |message| %>
        <div class="error-message"><%= message %></div>
      <% end %>
    </div>

    <div class="form-group">
      <%= form.label :target_date %>
      <%= form.date_field :target_date, class: "form-control" %>
      <% @task.errors.full_messages_for(:target_date).each do |message| %>
        <div class="error-message"><%= message %></div>
      <% end %>
    </div>

    <div class="form-group">
      <%= form.label :chapter_summary, "Notes/Summary" %>
      <%= form.text_area :chapter_summary, rows: 4, class: "form-control", 
          placeholder: "Add notes about this reading task..." %>
      <% @task.errors.full_messages_for(:chapter_summary).each do |message| %>
        <div class="error-message"><%= message %></div>
      <% end %>
    </div>

    <div class="form-actions">
      <%= form.submit "Create Note", class: "btn btn-info" %>
      <%= link_to "Cancel", @book, class: "btn btn-secondary" %>
    </div>
  <% end %>
</div>